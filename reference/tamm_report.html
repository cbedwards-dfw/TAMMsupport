<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate report of figures from TAMM file — tamm_report • TAMMsupport</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate report of figures from TAMM file — tamm_report"><meta name="description" content="Generate report of figures from TAMM file"><meta property="og:description" content="Generate report of figures from TAMM file"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TAMMsupport</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cbedwards-dfw/TAMMsupport/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate report of figures from TAMM file</h1>
      <small class="dont-index">Source: <a href="https://github.com/cbedwards-dfw/TAMMsupport/blob/main/R/tamm_report.R" class="external-link"><code>R/tamm_report.R</code></a></small>
      <div class="d-none name"><code>tamm_report.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate report of figures from TAMM file</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tamm_report</span><span class="op">(</span></span>
<span>  <span class="va">tamm_name</span>,</span>
<span>  tamm_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  clean <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  additional_children <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  additional_support_files <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tamm-name">tamm_name<a class="anchor" aria-label="anchor" href="#arg-tamm-name"></a></dt>
<dd><p>Name of tamm file (including .xlsx suffix). Character atomic</p></dd>


<dt id="arg-tamm-path">tamm_path<a class="anchor" aria-label="anchor" href="#arg-tamm-path"></a></dt>
<dd><p>Absolute path to directory containing the tamm file. <code>here::here()</code> can be useful in identifying appropriate path. Character atomic; defaults to current working directory.</p></dd>


<dt id="arg-clean">clean<a class="anchor" aria-label="anchor" href="#arg-clean"></a></dt>
<dd><p>Should the intermediate .qmd files used to make the report be deleted afterwards? Logical, defaults to <code>TRUE</code>. Set to <code>FALSE</code>
to explore the .qmd files underlying the report.</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Should the intermediate .qmd files or the final report be overwritten if those files already exist?; Logical, defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-additional-children">additional_children<a class="anchor" aria-label="anchor" href="#arg-additional-children"></a></dt>
<dd><p>Optional argument with filepath(s) to additional quarto child documents (see <code>Details</code>). Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-additional-support-files">additional_support_files<a class="anchor" aria-label="anchor" href="#arg-additional-support-files"></a></dt>
<dd><p>Optional argument with filepath(s) to additional files needed by additional quarto documents. Files will be copied into the same directory as the TAMM for
easy reading/use by <code>additional_children</code> quarto files, and then deleted after the report is generated</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Nothing</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function generates a summary report of a single chinook TAMM (<a href="https://framverse.github.io/fram_doc/calcs_data_chin.html#5_Terminal_Area_Management_Module" class="external-link">Terminal Area Management Module</a>) file.
The common use case is to call this function for a tamm, and then view the resulting html report (which will be generated in the same folder as the TAMM).
However, this function also provides substantial flexibility in the form of optional user-created child quarto documents, which requires
some additional context to develop and use.</p>
<p><code>tamm_report</code> is implemented using a parameterized quarto report and a child quarto document, which are included in the package.
The resulting report includes some broadly useful content – currently, a replication of the overview TAMM sheet and
bar charts showing the breakdown of exploitation rates by fishery for each stock listed in the
<code>limiting stock complete</code> TAMM sheet. However, individuals or organizations may consistently want
additional, specific visualizations based on their own needs. For example, individual tribes may want
to visualize impacts on a single stock, but use AEQ instead of ER rates. The <code>tamm_report</code> function is
designed to integrate these extra components with the <code>additional_children</code> argument.</p>
<p>The basic principle is that the individual or group can write a reusable "child" .qmd file, <a href="https://bookdown.org/yihui/rmarkdown-cookbook/child-document.html" class="external-link">see this explanation using Rmarkdown</a>), which will effectively
be inserted into the main report. As an example, we might create a simple additional
child .qmd file called <code>extra-tamm-child.qmd</code> to include a small table summarizing a few
key aspects of the Nooksack Earlies stock. The contents of that file are provided in the example below.</p>
<p>When we call <code>tamm_report()</code>, we can include as an argument <code>additional_children = </code> with the file name (including file path) for
our new file. In this way we can easily include this extra content any time we create a tamm report. If desired,
multiple child files can be created, and <code>additional_children</code> can take a character vector with each child file name.</p>
<p>When writing child documents, formatting and chunks work akin to copy-pasting a section of a quarto file out of the main file. (To easily
access the main quarto file, run tamm_report() with <code>clean = FALSE</code>, which will leave <code>tamm-visualizer.qmd</code> and <code>tamm-visualizer-child.qmd</code> files in the folder with the TAMM file).
The child document will have access to key objects</p><ul><li><p><code>dat.all</code>: the output of <code><a href="read_limiting_stock.html">read_limiting_stock</a></code> with <code>longform = TRUE</code> called on the TAMM;</p></li>
<li><p><code>dat_overview</code>: the output of of <code><a href="read_overview.html">read_overview</a></code> called on the TAMM;</p></li>
<li><p>and <code>dat</code>: the specific filtered and formatted version of the limiting stock data generated in the <code>limiting stock tab</code> chunk of <code>tamm-visualizer.qmd</code> and used in generating the unmarked natural stock exploitation rate figures.
When developing a child document, it may be useful to create in the working environment versions of <code>dat.all</code> and <code>dat_overview</code> from an example TAMM to facilitate
writing appropriate filters, plot-making code, etc. The primary quarto report loads in the tidyverse, framrsquared, kableExtra, and TAMMsupport packages,
but you can include additional packages for the child documents as needed by adding <code>library(packagename</code> calls just
like in any other context.</p></li>
</ul><p>If the <code>additional_children</code> files need to read contents of additional files (or call children .qmd files of their own
to streamline looping over stocks or fisheries), the file paths to these supplemental
files can be provided in the <code>additional.support files</code> argument. These files will be copied into the
same folder as the .qmd files, so the children quarto files can be written to access the supplemental
files without dealing with file paths.</p>
<p>For questions/support in developing child documents to extend the report, contact Collin Edwards at WDFW.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Collin Edwards, Ty Garber.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

